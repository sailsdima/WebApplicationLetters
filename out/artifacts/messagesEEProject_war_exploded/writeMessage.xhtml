<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Write message</title>
</h:head>
<h:body>
    <h3>Send message</h3>
    <h:form>
        <table>
            <tr>
                <td>
                    Sender:
                </td>
                <td>
                    <h:selectOneMenu value="#{messageBean.senderId}">
                        <f:selectItems value="#{personBean.people}" var="person" itemValue="#{person.id}"
                                       itemLabel="#{person.name}"/>
                    </h:selectOneMenu>
                </td>
            </tr>
            <tr>
                <td>
                    Receiver:
                </td>
                <td>
                    <h:selectOneMenu value="#{messageBean.receiverId}">
                        <f:selectItems value="#{personBean.people}" var="person" itemValue="#{person.id}"
                                       itemLabel="#{person.name}"/>
                    </h:selectOneMenu>
                </td>
                <td>
                    Send to everybody<h:selectBooleanCheckbox value="#{messageBean.sendToEverybody}"
                />
                </td>
            </tr>
            <tr>
                <td>
                    Title:
                </td>
                <td>
                    <h:inputText value="#{messageBean.tempMessage.title}" required="true"/>
                </td>
            </tr>
            <tr>
                <td>
                    Message:
                </td>
                <td>
                    <h:inputTextarea value="#{messageBean.tempMessage.text}" required="true"/>
                </td>
            </tr>
            <tr>
                <td>
                    <h:commandButton value="Send" action="${messageBean.sentMessage}"/>
                </td>
            </tr>
        </table>
    </h:form>

    <br/>

    <br/>
    <h:form>
        <h3>Resend letter</h3>
        Resend letter of
        <h:selectOneMenu value="#{messageBean.senderId}">
            <f:selectItems value="#{personBean.people}" var="person" itemValue="#{person.id}"
                           itemLabel="#{person.name}"/>
        </h:selectOneMenu>
        with title <h:inputText value="#{messageBean.tempTitle}"/> to everybody.
        <br/>
        <h:commandButton value="resend" action="#{messageBean.resendMessage}"/>
        <h:outputLabel value="#{messageBean.statusResendingMessage}"/>
    </h:form>
</h:body>
</html>
